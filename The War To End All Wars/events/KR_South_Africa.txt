###########################
# South Africa Events
###########################

add_namespace = saf

### Introduction events

country_event = {
	id = saf.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.1"}
	title = saf.1.t
	desc = saf.1.d
	picture = GFX_report_event_SAF_cape_town

	is_triggered_only = yes

	option = {
		name = saf.1.a
		hidden_effect = {
			country_event = { id = saf.2 days = 2 }
		}
	}
}

country_event = {
	id = saf.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.2"}
	title = saf.2.t
	desc = saf.2.d
	picture = GFX_report_event_SAF_parliament_2

	is_triggered_only = yes

	option = {
		name = saf.2.a
	}
}


### Black Monday events

# Initial Black Monday event
country_event = {
	id = saf.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.3"}
	title = saf.3.t
	desc = saf.3.d
	picture = NOR_black_monday_2

	is_triggered_only = yes

	option = {
		name = saf.3.a
		add_ideas = SAF_black_monday_1
		add_stability = -0.10
	}
}

# Dealing with the crisis (fired by focus)
country_event = {
	id = saf.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.4"}
	title = saf.4.t
	desc = saf.4.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	immediate = {
		set_country_flag = {
			flag = SAF_segregation_reform
			value = 0
		}
	}

	option = {
		name = saf.4.a # The National Party will solve this crisis alone
		ai_chance = { base = 60 }
		set_country_flag = SAF_NP_ALONE
		add_political_power = -120
		add_popularity = { ideology = authoritarian_democrat popularity = -0.20 }
	}

	option = {
		name = saf.4.b # Work with our old coalition partners, Labour
		ai_chance = { base = 30 }
		set_country_flag = SAF_NP_LABOUR
		add_political_power = -200
		swap_ideas = {
			remove_idea = SAF_divided_government_1
			add_idea = SAF_divided_government_2
		}
		add_popularity = { ideology = authoritarian_democrat popularity = -0.10 }
	}

	option = {
		name = saf.4.c # Co-operate with the Dominionists
		ai_chance = { base = 10 }
		set_country_flag = SAF_NP_UNITED
		add_political_power = -300
		swap_ideas = {
			remove_idea = SAF_divided_government_1
			add_idea = SAF_divided_government_3
		}
		add_popularity = { ideology = social_conservative popularity = 0.20 }
	}
}

# National Party splits
country_event = {
	id = saf.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.5"}
	title = saf.5.t
	picture = GFX_report_event_SAF_malan

	desc = {
		text = saf.5.d.coalition_labour
		trigger = { has_country_flag = SAF_NP_LABOUR }
	}
	desc = {
		text = saf.5.d.coalition_dominion
		trigger = { has_country_flag = SAF_NP_UNITED }
	}
	desc = {
		text = saf.5.d.reforms
		trigger = {
			NOT = { has_country_flag = SAF_NP_LABOUR }
			NOT = { has_country_flag = SAF_NP_UNITED }
		}
	}

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_government = authoritarian_democrat
		OR = {
			has_country_flag = SAF_NP_LABOUR
			has_country_flag = SAF_NP_UNITED
			has_country_flag = { flag = SAF_segregation_reform value > 0 }
		}
		NOT = {
			has_country_flag = SAF_PNP_split
			has_country_flag = SAF_1938_elections_held
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = saf.5.a
		set_country_flag = SAF_PNP_split
		if = {
			limit = { has_idea = SAF_D_F_Malan_hog_pau }
			remove_ideas = SAF_D_F_Malan_hog_pau
			add_ideas = SAF_TE_Doenges_hog_ade
		}
		set_party_name = { ideology = paternal_autocrat name = SAF_paternal_autocrat_party_PNP long_name = SAF_paternal_autocrat_party_long_PNP }
		add_stability = -0.02
		add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
	}
}

# Labour coalition breaks up
country_event = {
	id = saf.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.6"}
	title = saf.6.t
	desc = saf.6.d
	picture = GFX_report_event_SAF_parliament_1

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_government = authoritarian_democrat
		has_country_flag = SAF_NP_LABOUR
		NOT = { has_country_flag = SAF_1938_elections_held }
		has_idea = SAF_divided_government_2
		has_country_flag = { flag = SAF_segregation_reform value < -1 }
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = saf.6.a
		clr_country_flag = SAF_NP_LABOUR
		set_country_flag = SAF_NP_ALONE
		swap_ideas = {
			remove_idea = SAF_divided_government_2
			add_idea = SAF_divided_government_1
		}
		add_popularity = { ideology = authoritarian_democrat popularity = -0.20 }
	}
}

# Dominion coalition breaks up
country_event = {
	id = saf.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.7"}
	title = saf.7.t
	desc = saf.7.d
	picture = GFX_report_event_SAF_parliament_1

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_government = authoritarian_democrat
		has_country_flag = SAF_NP_UNITED
		NOT = { has_country_flag = SAF_1938_elections_held }
		has_idea = SAF_divided_government_3
		has_country_flag = { flag = SAF_segregation_reform value < 0 }
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = saf.6.a
		clr_country_flag = SAF_NP_UNITED
		set_country_flag = SAF_NP_ALONE
		swap_ideas = {
			remove_idea = SAF_divided_government_3
			add_idea = SAF_divided_government_1
		}
		add_popularity = { ideology = social_conservative popularity = 0.20 }
	}
}

# Representation of Natives Act (fired by focus)
country_event = {
	id = saf.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.10"}
	title = saf.10.t
	picture = GFX_report_event_SAF_black_protest

	desc = {
		text = saf.10.d.alone
		trigger = { NOT = { has_country_flag = SAF_NP_UNITED } }
	}
	desc = {
		text = saf.10.d.dominion
		trigger = { has_country_flag = SAF_NP_UNITED }
	}

	is_triggered_only = yes

	option = {
		name = saf.10.a #Agree to the Dominion Party's reform plan
		trigger = { has_country_flag = SAF_NP_UNITED }
		ai_chance = {
			base = 20
		}
		modify_country_flag = { flag = SAF_segregation_reform value = 1 }
		add_popularity = { ideology = authoritarian_democrat popularity = -0.10 }
		add_political_power = -100
		add_stability = 0.10
		SAF_reform_segregation_1 = yes
	}
	option = {
		name = saf.10.b #Pass the original text, as planned
		ai_chance = {
			base = 20
			modifier = {
				add = 30
				has_country_flag = SAF_NP_LABOUR
			}
		}
		add_political_power = -50
		add_stability = 0.05
	}
	option = {
		name = saf.10.c #Establish the Native Representation Council as a compromise
		trigger = { NOT = { has_country_flag = SAF_NP_UNITED } }
		ai_chance = {
			base = 50
			modifier = {
				add = -10
				has_country_flag = SAF_NP_LABOUR
			}
		}
		modify_country_flag = { flag = SAF_segregation_reform value = -1 }
		add_popularity = { ideology = authoritarian_democrat popularity = 0.10 }
		add_political_power = 50
		add_stability = -0.05
		SAF_increase_segregation_1 = yes
	}
	option = {
		name = saf.10.e #Establish the Native Representation Council
		trigger = { has_country_flag = SAF_NP_UNITED }
		ai_chance = {
			base = 30
		}
		modify_country_flag = { flag = SAF_segregation_reform value = -1 }
		add_popularity = { ideology = authoritarian_democrat popularity = 0.10 }
		add_political_power = 50
		add_stability = -0.05
		SAF_increase_segregation_1 = yes
	}
	option = {
		name = saf.10.f #Agree with the Gesuiwerde and bar coloureds from elections
		trigger = { NOT = { has_country_flag = SAF_NP_UNITED } }
		ai_chance = {
			base = 30
			modifier = {
				add = -20
				has_country_flag = SAF_NP_LABOUR
			}
		}
		modify_country_flag = { flag = SAF_segregation_reform value = -2 }
		add_popularity = { ideology = authoritarian_democrat popularity = 0.20 }
		add_political_power = 100
		add_stability = -0.10
		SAF_increase_segregation_2 = yes
	}
}

# The Extent of Native Autonomy (fired by focus)
country_event = {
	id = saf.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.11"}
	title = saf.11.t
	desc = saf.11.d
	picture = GFX_report_event_SAF_cape_town

	is_triggered_only = yes

	option = {
		name = saf.11.a #Their authority stops at the border
		ai_chance = { factor = 80 }
		add_political_power = 50
		add_stability = -0.05
	}
	option = {
		name = saf.11.b #They will fully represent their people
		ai_chance = { factor = 20 }
		modify_country_flag = { flag = SAF_segregation_reform value = 1 }
		add_political_power = -50
		add_stability = 0.05
		decrease_ruling_party_popularity_by_5 = yes
		SAF_reform_segregation_1 = yes
	}
}

# South Africa asks the Entente for assistance
country_event = {
	id = saf.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.15"}
	title = saf.15.t
	desc = saf.15.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	option = {
		name = saf.15.a #Yes we welcome trade with the South Africans...
		ai_chance = { factor = 90 }
		add_political_power = 50
		add_opinion_modifier = { target = SAF modifier = SAF_resumed_relations }
		remove_opinion_modifier = { target = SAF modifier = embargo }
		SAF = {
			country_event = { id = saf.17 days = 3 }
		}
		hidden_effect = {
			every_country = {
				limit = {
					is_in_faction_with = CAN
					NOT = { tag = SAF }
					NOT = { tag = CAN }
				}
				country_event = { id = saf.16 days = 3 }
			}
		}
	}
	option = {
		name = saf.15.b #No! Traitors!
		ai_chance = { factor = 10 }
		add_political_power = -20
		add_opinion_modifier = { target = SAF modifier = SAF_refused_relations }
		SAF = {
			country_event = { id = saf.18 days = 3 }
		}
	}
}

# Entente member normalized trade with South Africa
country_event = {
	id = saf.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.16"}
	title = saf.16.t
	desc = saf.16.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	option = {
		name = saf.16.a
		add_political_power = 50
		add_opinion_modifier = { target = SAF modifier = SAF_resumed_relations }
		remove_opinion_modifier = { target = SAF modifier = embargo }
		hidden_effect = {
			SAF = { remove_opinion_modifier = { target = ROOT modifier = embargo } }
			reverse_add_opinion_modifier = { target = SAF modifier = SAF_resumed_relations }
		}
	}
}

# Entente agrees to normalize trade
country_event = {
	id = saf.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.17"}
	title = saf.17.t
	desc = saf.17.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {
		name = saf.17.a
		add_political_power = 50
		add_opinion_modifier = { target = CAN modifier = SAF_resumed_relations }
		remove_opinion_modifier = { target = CAN modifier = embargo }
	}
}

# Entente refuses to normalize trade
country_event = {
	id = saf.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.18"}
	title = saf.18.t
	desc = saf.18.d
	picture = diplomacy2

	is_triggered_only = yes

	option = {
		name = saf.17.a
		set_country_flag = SAF_CAN_refused_normalization
		add_political_power = -100
		add_opinion_modifier = { target = CAN modifier = ITA_hates_govt }
	}
}


### 1938 Election events

# Port Elizabeth Declaration
country_event = {
	id = saf.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.25"}
	title = saf.25.t
	desc = saf.25.d
	picture = GFX_report_event_SAF_smuts

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1938.3.1
		owns_state = 946
		has_government = authoritarian_democrat
		NOT = { has_country_flag = SAF_1938_elections_held }
	}

	mean_time_to_happen = {
		days = 20
	}

	option = {
		name = saf.25.a
		add_stability = -0.10
		add_popularity = { ideology = social_conservative popularity = 0.1 }
	}
}

# The 1938 Union of South Africa General Elections (fired by on_new_term_election)
country_event = {
	id = saf.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.26"}
	title = saf.26.t
	desc = saf.26.d
	picture = GFX_report_event_SAF_parliament_3

	is_triggered_only = yes

	trigger = {
		tag = SAF
		NOT = { has_country_flag = SAF_1938_elections_held }
	}

	immediate = {
		remove_all_ministers = yes
		clr_country_flag = SAF_NP_ALONE
		clr_country_flag = SAF_NP_LABOUR
		clr_country_flag = SAF_NP_UNITED
		hidden_effect = {
			create_country_leader = {
				name = "James Hertzog"
				desc = "POLITICS_JAMES_HERTZOG_DESC"
				picture = "J._B._M._Hertzog_I.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
				traits = {}
			}
		}
	}

	option = {
		name = saf.26.a #The National Party Wins!
		ai_chance = { factor = 50 }
		set_country_flag = SAF_1938_elections_held
		add_political_power = -100
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = { has_country_flag = SAF_PNP_split }
			add_ideas = SAF_TE_Doenges_hog_ade
			else = { add_ideas = SAF_D_F_Malan_hog_pau }
		}
		add_ideas = SAF_Eric_H_Louw_for_ade
		if = {
			limit = { has_country_flag = SAF_PNP_split }
			add_ideas = SAF_PO_Sauer_eco_ade
			else = { add_ideas = SAF_J_G_Strijdom_eco_pau }
		}
		if = {
			limit = { has_country_flag = SAF_PNP_split }
			add_ideas = SAF_C_de_Weenburg_du_Toit_sec_ade
			else = { add_ideas = SAF_Hendrijk_F_Verwoerd_sec_pau }
		}
		add_popularity = { ideology = authoritarian_democrat popularity = 0.20 }
		hidden_effect = {
			news_event = { id = worldnews.107 days = 1 }
		}
	}

	option = {
		name = saf.26.b #The Dominion Party Wins!
		ai_chance = { factor = 50 }
		set_country_flag = SAF_1938_elections_held
		add_political_power = -100
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		add_ideas = SAF_Jan_Hendrik_Hofmeyr_hog_mli
		add_ideas = SAF_Pierre_van_Ryneveld_for_sco
		add_ideas = SAF_Charles_T_te_Water_eco_sco
		add_ideas = SAF_C_F_Stallard_sec_mli
		add_popularity = { ideology = social_conservative popularity = 0.20 }
		hidden_effect = {
			news_event = { id = worldnews.108 days = 1 }
		}
	}
}

# Nationalist Party victory (fired by focus)
country_event = {
	id = saf.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.27"}
	title = saf.27.t
	desc = saf.27.d
	picture = GFX_report_event_SAF_hertzog

	is_triggered_only = yes

	option = {
		name = saf.27.a #We will not wait to implement Apartheid
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				has_country_flag = { flag = SAF_segregation_reform value > 1 }
			}
			modifier = {
				factor = 2.0
				has_country_flag = { flag = SAF_segregation_reform value < 0 }
			}
		}
		set_country_flag = SAF_apartheid_civil_war
		add_political_power = -200
	}
	option = {
		name = saf.27.b #Perhaps waiting two years is for the best
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2.0
				has_country_flag = { flag = SAF_segregation_reform value > 0 }
			}
			modifier = {
				factor = 0.5
				has_country_flag = { flag = SAF_segregation_reform value < -1 }
			}
		}
		add_political_power = 50
		custom_effect_tooltip = SAF_two_year_wait
		hidden_effect = { add_timed_idea = { idea = SAF_apartheid_wait days = 730 } }
	}
}

# Dominion Party victory (fired by focus)
country_event = {
	id = saf.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.28"}
	title = saf.28.t
	desc = saf.28.d
	picture = GFX_report_event_SAF_smuts

	is_triggered_only = yes

	option = {
		name = saf.28.a
		set_country_flag = SAF_federation_civil_war
		add_political_power = -200
	}
	option = {
		name = saf.28.b
		add_political_power = 50
		custom_effect_tooltip = SAF_two_year_wait2
		hidden_effect = { add_timed_idea = { idea = SAF_federation_wait days = 730 } }
	}
}

# Implementing Apartheid (fired by focus)
country_event = {
	id = saf.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.29"}
	title = saf.29.t
	picture = GFX_report_event_SAF_apartheid_1

	desc = {
		text = saf.29.d.split
		trigger = { has_country_flag = SAF_PNP_split }
	}
	desc = {
		text = saf.29.d.nosplit
		trigger = { NOT = { has_country_flag = SAF_PNP_split } }
	}

	is_triggered_only = yes

	option = {
		name = saf.29.a #We will implement apartheid fully, as planned
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				has_country_flag = { flag = SAF_segregation_reform value < 0 }
			}
		}
		add_ideas = SAF_apartheid_1
		if = {
			limit = { has_country_flag = SAF_PNP_split }
			country_event = { id = saf.30 days = 1 }
		}
	}
	option = {
		name = saf.29.b #Perhaps a more moderate version is better
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2.0
				has_country_flag = { flag = SAF_segregation_reform value > 1 }
			}
		}
		add_ideas = SAF_apartheid_2
		if = {
			limit = { NOT = { has_country_flag = SAF_PNP_split } }
			country_event = { id = saf.31 days = 1 }
		}
	}
}

# PNP Rejoins the National Party
country_event = {
	id = saf.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.30"}
	title = saf.30.t
	desc = saf.30.d
	picture = GFX_report_event_SAF_malan

	is_triggered_only = yes

	option = {
		name = saf.30.a
		clr_country_flag = SAF_PNP_split
		add_stability = 0.05
		if = {
			limit = { has_idea = SAF_TE_Doenges_hog_ade }
			add_ideas = SAF_D_F_Malan_hog_pau
		}
		add_popularity = { ideology = paternal_autocrat popularity = -0.10 }
	}
}

# PNP Splits from the National Party
country_event = {
	id = saf.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.31"}
	title = saf.31.t
	desc = saf.31.d
	picture = GFX_report_event_SAF_malan

	is_triggered_only = yes

	option = {
		name = saf.31.a
		set_country_flag = SAF_PNP_split
		if = {
			limit = { has_idea = SAF_D_F_Malan_hog_pau }
			remove_ideas = SAF_D_F_Malan_hog_pau
			add_ideas = SAF_TE_Doenges_hog_ade
		}
		if = {
			limit = { has_idea = SAF_J_G_Strijdom_eco_pau }
			remove_ideas = SAF_J_G_Strijdom_eco_pau
			add_ideas = SAF_PO_Sauer_eco_ade
		}
		if = {
			limit = { has_idea = SAF_Hendrijk_F_Verwoerd_sec_pau }
			remove_ideas = SAF_Hendrijk_F_Verwoerd_sec_pau
			add_ideas = SAF_C_de_Weenburg_du_Toit_sec_ade
		}
		set_party_name = { ideology = paternal_autocrat name = SAF_paternal_autocrat_party_PNP long_name = SAF_paternal_autocrat_party_long_PNP }
		add_stability = -0.02
		add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
	}
}

# South Africa asks to join Mitteleuropa (fired by focus)
country_event = {
	id = saf.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.32"}
	title = saf.32.t
	desc = saf.32.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	option = {
		name = saf.32.a
		ai_chance = { factor = 99 }
		add_political_power = 50
		effect_tooltip = { add_to_faction = SAF }
		add_opinion_modifier = { target = SAF modifier = ITA_likes_govt }
		SAF = { country_event = { id = saf.33 days = 3 } }
	}
	option = {
		name = saf.32.b
		ai_chance = { factor = 1 }
		add_political_power = -20
		SAF = { country_event = { id = saf.34 days = 3 } }
	}
}

# Germany agrees to let South Africa join
country_event = {
	id = saf.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.33"}
	title = saf.33.t
	desc = saf.33.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {
		name = saf.33.a
		add_political_power = 50
		GER = { add_to_faction = SAF }
		add_opinion_modifier = { target = GER modifier = ITA_likes_govt }
		every_country = {
			limit = {
				exists = yes
				OR = {
					tag = CAN
					tag = GBR
					is_in_faction_with = CAN
					is_in_faction_with = GBR
				}
			}
			add_opinion_modifier = { target = SAF modifier = SAF_joined_mitteleuropa }
		}
	}
}

# Germany refuses to let South Africa join
country_event = {
	id = saf.34
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.34"}
	title = saf.34.t
	desc = saf.34.d
	picture = diplomacy2

	is_triggered_only = yes

	option = {
		name = saf.34.a
		add_political_power = -50
		add_opinion_modifier = { target = GER modifier = ITA_dislikes_govt }
	}
}

# Federation implemented (fired by focus)
country_event = {
	id = saf.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.35"}
	title = saf.35.t
	desc = saf.35.d
	picture = GFX_report_event_SAF_crowd_2

	is_triggered_only = yes

	option = {
		name = saf.35.a
	}
}

# South Africa asks to rejoin Entente (fired by focus)
country_event = {
	id = saf.36
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.36"}
	title = saf.36.t
	desc = saf.36.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	option = {
		name = saf.36.a
		ai_chance = { factor = 99 }
		add_political_power = 50
		add_to_faction = SAF
		add_opinion_modifier = { target = SAF modifier = ITA_likes_govt }
		remove_opinion_modifier = { target = SAF modifier = embargo }
		SAF = { country_event = { id = saf.37 days = 3 } }
		hidden_effect = {
			every_country = {
				limit = { is_in_faction_with = ROOT }
				remove_opinion_modifier = { target = SAF modifier = embargo }
			}
		}
	}
	option = {
		name = saf.36.b
		ai_chance = { factor = 1 }
		add_political_power = -50
		SAF = { country_event = { id = saf.38 days = 3 } }
	}
}

# Canada agrees to let South Africa join
country_event = {
	id = saf.37
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.37"}
	title = saf.37.t
	desc = saf.37.d
	picture = diplomacy3

	is_triggered_only = yes

	option = {
		name = saf.37.a
		add_political_power = 50
		effect_tooltip = {
			FROM = { add_to_faction = SAF }
		}
		add_opinion_modifier = { target = FROM modifier = ITA_likes_govt }
		every_country = {
			limit = {
				exists = yes
				OR = {
					tag = GER
					is_in_faction_with = GER
				}
			}
			add_opinion_modifier = { target = SAF modifier = SAF_joined_entente }
		}
		hidden_effect = {
			remove_opinion_modifier = { target = FROM modifier = embargo }
			every_country = {
				limit = { is_in_faction_with = FROM }
				ROOT = { remove_opinion_modifier = { target = PREV modifier = embargo } }
			}
		}
	}
}

# Canada refuses to let South Africa join
country_event = {
	id = saf.38
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.38"}
	title = saf.38.t
	desc = saf.38.d
	picture = diplomacy2

	is_triggered_only = yes

	option = {
		name = saf.38.a
		add_political_power = -50
		add_opinion_modifier = { target = FROM modifier = ITA_dislikes_govt }
	}
}

# The Restoration (fired by focus)
country_event = {
	id = saf.39
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.39"}
	title = saf.39.t
	desc = saf.39.d
	picture = GFX_report_event_SAF_parliament_2

	is_triggered_only = yes

	option = {
		name = saf.39.a #Legally establish the King as a figurehead!
		ai_chance = { factor = 30 }
		hidden_effect = {
			remove_ideas_with_trait = head_of_government
			create_country_leader = {
				name = "King Edward VIII"
				desc = "POLITICS_KING_EDWARD_SAF_DESC"
				picture = "Portrait_SAF_Edward_VIII.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = {}
			}
			create_country_leader = {
				name = "King Edward VIII"
				desc = "POLITICS_KING_EDWARD_SAF_DESC"
				picture = "Portrait_SAF_Edward_VIII.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = {}
			}
			create_country_leader = {
				name = "King Edward VIII"
				desc = "POLITICS_KING_EDWARD_SAF_DESC"
				picture = "Portrait_SAF_Edward_VIII.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = {}
			}
			create_country_leader = {
				name = "King Edward VIII"
				desc = "POLITICS_KING_EDWARD_SAF_DESC"
				picture = "Portrait_SAF_Edward_VIII.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = {}
			}
		}
		add_ideas = SAF_Jan_C_Smuts_hog_sco
		random_other_country = {
			limit = {
				OR = {
					tag = CAN
					tag = GBR
				}
				is_faction_leader = yes
			}
			add_opinion_modifier = { target = SAF modifier = ITA_likes_govt }
		}
	}
	option = {
		name = saf.39.b #Delegate the King's duties to the Governor-General
		ai_chance = { factor = 70 }
		add_political_power = 50
		random_other_country = {
			limit = {
				OR = {
					tag = CAN
					tag = GBR
				}
				is_faction_leader = yes
			}
			add_opinion_modifier = { target = SAF modifier = ITA_dislikes_govt }
		}
		hidden_effect = {
			remove_ideas_with_trait = head_of_government
			create_country_leader = {
				name = "Governor-General Jan Smuts"
				desc = "POLITICS_JAN_SMUTS_DESC"
				picture = "Portrait_SAF_Jan_Smuts.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Governor-General Jan Smuts"
				desc = "POLITICS_JAN_SMUTS_DESC"
				picture = "Portrait_SAF_Jan_Smuts.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Governor-General Jan Smuts"
				desc = "POLITICS_JAN_SMUTS_DESC"
				picture = "Portrait_SAF_Jan_Smuts.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Governor-General Jan Smuts"
				desc = "POLITICS_JAN_SMUTS_DESC"
				picture = "Portrait_SAF_Jan_Smuts.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = {}
			}
		}
		add_ideas = SAF_C_F_Stallard_hog_mli
	}
}


### PRE-CIVIL WAR EVENTS

# Construction of the Voortrekker Monument
country_event = {
	id = saf.50
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.50"}
	title = saf.50.t
	desc = saf.50.d
	picture = GFX_report_event_SAF_monument

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1937.09.01
		275 = { is_owned_and_controlled_by = SAF } #Transvaal
		681 = { is_owned_and_controlled_by = SAF } #Cape
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 15
	}

	option = {
		name = saf.50.a
		add_stability = 0.05
	}
}

# Preperations for the Centenary Celebrations
country_event = {
	id = saf.51
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.51"}
	title = saf.51.t
	desc = saf.51.d
	picture = GFX_report_event_SAF_cape_town

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1938.07.01
		OR = {
			has_government = authoritarian_democrat
			has_government = social_conservative
		}
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_country_flag = SAF_1938_elections_held
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = saf.51.a #It will go ahead as planned!
		ai_chance = { factor = 50 }
		add_stability = -0.08
		set_country_flag = SAF_celebration_full
	}
	option = {
		name = saf.51.b #Perhaps a more modest approach is best
		ai_chance = { factor = 50 }
		add_stability = -0.03
		set_country_flag = SAF_celebration_modest
	}
}

# 100th Anniversary of the Great Trek - Modest
country_event = {
	id = saf.52
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.52"}
	title = saf.52.t
	picture = GFX_report_event_SAF_centenary

	desc = {
		text = saf.52.d.national
		trigger = { has_government = authoritarian_democrat }
	}
	desc = {
		text = saf.52.d.dominion
		trigger = { has_government = social_conservative }
	}

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1938.08.07
		OR = {
			has_government = authoritarian_democrat
			has_government = social_conservative
		}
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_country_flag = SAF_celebration_modest
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = saf.52.a #Could have been worse...
		trigger = { has_government = authoritarian_democrat }
		clr_country_flag = SAF_celebration_modest
		country_event = { id = saf.54 days = 14 }
	}
	option = {
		name = saf.52.b #Oh dear!
		trigger = { has_government = social_conservative }
		clr_country_flag = SAF_celebration_modest
		add_stability = -0.10
		hidden_effect = {
			country_event = { id = saf.58 days = 3 }
			country_event = { id = saf.59 days = 8 }
			country_event = { id = saf.60 days = 14 }
		}
	}
}

# 100th Anniversary of the Great Trek - Full
country_event = {
	id = saf.53
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.53"}
	title = saf.52.t
	picture = GFX_report_event_SAF_centenary

	desc = {
		text = saf.53.d.national
		trigger = { has_government = authoritarian_democrat }
	}
	desc = {
		text = saf.53.d.dominion
		trigger = { has_government = social_conservative }
	}

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1938.08.07
		OR = {
			has_government = authoritarian_democrat
			has_government = social_conservative
		}
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_country_flag = SAF_celebration_full
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = saf.53.a #Oh dear!
		trigger = { has_government = authoritarian_democrat }
		clr_country_flag = SAF_celebration_full
		add_stability = -0.10
		hidden_effect = {
			country_event = { id = saf.55 days = 3 }
			country_event = { id = saf.56 days = 8 }
			country_event = { id = saf.57 days = 14 }
		}
	}
	option = {
		name = saf.53.b #Could have been worse...
		trigger = { has_government = social_conservative }
		clr_country_flag = SAF_celebration_full
		country_event = { id = saf.54 days = 14 }
	}
}

# Inauguration of the Voortrekker Monument - Peaceful result
country_event = {
	id = saf.54
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.54"}
	title = saf.54.t
	picture = GFX_report_event_SAF_monument

	desc = {
		text = saf.54.d.national
		trigger = { has_government = authoritarian_democrat }
	}
	desc = {
		text = saf.54.d.dominion
		trigger = { has_government = social_conservative }
	}

	is_triggered_only = yes

	trigger = {
		275 = { is_owned_and_controlled_by = SAF } #Transvaal
		NOT = { has_country_flag = SAF_civil_war_happened }
		OR = {
			has_government = authoritarian_democrat
			has_government = social_conservative
		}
	}

	option = {
		name = saf.54.a #Huzzah!
		add_stability = 0.10
	}
}

# Nationalist path to Civil War - The Cape Town Riots
country_event = {
	id = saf.55
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.55"}
	title = saf.55.t
	desc = saf.55.d
	picture = GFX_report_event_SAF_black_protest

	is_triggered_only = yes

	trigger = {
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_government = authoritarian_democrat
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	option = {
		name = saf.55.a
		add_stability = -0.10
	}
}

# Nationalist path to Civil War - ISL Mineworkers Strike
country_event = {
	id = saf.56
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.56"}
	title = saf.56.t
	desc = saf.56.d
	picture = strike

	is_triggered_only = yes

	trigger = {
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_government = authoritarian_democrat
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	option = {
		name = saf.56.a
		add_stability = -0.05
	}
}

# Nationalist path to Civil War - Inauguration of the Voortrekker Monument
country_event = {
	id = saf.57
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.57"}
	title = saf.57.t
	desc = saf.57.d
	picture = GFX_report_event_SAF_monument

	is_triggered_only = yes

	trigger = {
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_government = authoritarian_democrat
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	option = {
		name = saf.57.a
		add_stability = 0.05
		set_country_flag = SAF_centenary_civil_war
	}
}

# Dominion path to Civil War - The Ossewabrandwag Riots
country_event = {
	id = saf.58
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.58"}
	title = saf.58.t
	desc = saf.58.d
	picture = HOL_zwolle_riots

	is_triggered_only = yes

	trigger = {
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_government = social_conservative
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	option = {
		name = saf.58.a
		add_stability = -0.10
	}
}

# Dominion path to Civil War - ISL Mineworkers Strike
country_event = {
	id = saf.59
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.59"}
	title = saf.59.t
	desc = saf.59.d
	picture = strike

	is_triggered_only = yes

	trigger = {
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_government = social_conservative
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	option = {
		name = saf.59.a
		add_stability = -0.05
	}
}

# Dominion path to Civil War - Inauguration of the Voortrekker Monument
country_event = {
	id = saf.60
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.60"}
	title = saf.60.t
	desc = saf.60.d
	picture = GFX_report_event_SAF_monument

	is_triggered_only = yes

	trigger = {
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		SAF = { controls_all_owned_states = yes }
		has_government = social_conservative
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	option = {
		name = saf.60.a
		add_stability = -0.10
		set_country_flag = SAF_centenary_civil_war
	}
}


### CIVIL WAR EVENTS

# Civil War begins - Natal Covenant
country_event = {
	id = saf.65
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.65"}
	title = saf.65.t
	picture = GFX_report_event_SAF_desert_tanks

	desc = {
		text = saf.65.d.centenary
		trigger = { has_country_flag = SAF_centenary_civil_war }
	}
	desc = {
		text = saf.65.d.apartheid
		trigger = { has_country_flag = SAF_apartheid_civil_war }
	}

	fire_only_once = yes

	trigger = {
		tag = SAF
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		owns_state = 719 #Natal
		SAF = { controls_all_owned_states = yes }
		has_government = authoritarian_democrat
		OR = {
			has_country_flag = SAF_centenary_civil_war
			has_country_flag = SAF_apartheid_civil_war
		}
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 40
			has_country_flag = SAF_apartheid_civil_war
		}
	}

	immediate = {
		set_country_flag = SAF_civil_war_happened
		country_event = { id = saf.68 days = 1 }
		random_other_country = {
			news_event = { id = worldnews.62 days = 1 }
		}
	}

	option = {
		name = saf.65.a
		add_stability = -0.05
		set_country_flag = Jan_C_Smuts_dead
		set_country_flag = Jan_Hendrik_Hofmeyr_dead
		set_country_flag = Leonard_Beyers_dead
		start_civil_war = {
			ruling_party = authoritarian_democrat
			ideology = social_conservative
			size = 0.5
			capital = 681
			states = { 681 946 719 }
			keep_unit_leaders = { 970 971 972 973 974 975 976 977 978 979 }
		}
		SAF_release_rhodesia = yes
		hidden_effect = {
			load_oob = ZAR_Civil_War
			random_other_country = {
				limit = {
					original_tag = SAF
					has_government = social_conservative
				}
				load_oob = SAF_Civil_War
				set_equipment_fraction = 0.5
				add_popularity = { ideology = social_conservative popularity = 0.35 }
				if = {
					limit = { country_exists = ZIM }
					puppet = ZIM
					ZIM = {
						add_to_war = {
							targeted_alliance = PREV
							enemy = SAF
						}
					}
				}
				SAF_copy_ideas = yes
				SAF_add_federation_generals = yes
				set_cosmetic_tag = SAF_federation
			}
		}
	}
	option = {
		name = saf.65.b
		trigger = { is_ai = no }
		add_stability = -0.05
		set_country_flag = Jan_C_Smuts_dead
		set_country_flag = Jan_Hendrik_Hofmeyr_dead
		set_country_flag = Leonard_Beyers_dead
		custom_effect_tooltip = SAF_play_as_federation
		start_civil_war = {
			ruling_party = authoritarian_democrat
			ideology = social_conservative
			size = 0.5
			capital = 681
			states = { 681 946 719 }
			keep_unit_leaders = { 970 971 972 973 974 975 976 977 978 979 }
		}
		SAF_release_rhodesia = yes
		hidden_effect = {
			load_oob = ZAR_Civil_War
			random_other_country = {
				limit = {
					original_tag = SAF
					has_government = social_conservative
				}
				load_oob = SAF_Civil_War
				set_equipment_fraction = 0.5
				add_popularity = { ideology = social_conservative popularity = 0.35 }
				if = {
					limit = { country_exists = ZIM }
					puppet = ZIM
					ZIM = {
						add_to_war = {
							targeted_alliance = PREV
							enemy = SAF
						}
					}
				}
				SAF_copy_ideas = yes
				SAF_add_federation_generals = yes
				set_cosmetic_tag = SAF_federation
				change_tag_from = SAF
			}
		}
	}
}

# Civil War begins - Restoration of the Z.A.R.
country_event = {
	id = saf.66
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.66"}
	title = saf.66.t
	desc = saf.66.d
	picture = GFX_report_event_SAF_boers

	fire_only_once = yes

	trigger = {
		tag = SAF
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		owns_state = 947 #Oranje
		SAF = { controls_all_owned_states = yes }
		has_government = social_conservative
		has_country_flag = SAF_centenary_civil_war
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_country_flag = SAF_civil_war_happened
		random_other_country = {
			news_event = { id = worldnews.62 days = 1 }
		}
	}

	option = {
		name = saf.66.a
		add_stability = -0.05
		set_country_flag = C_de_Weenburg_du_Toit_dead
		set_country_flag = JF_Naude_dead
		set_country_flag = Cornelis_van_Zuigenbrogge_dead
		set_country_flag = SP_Le_Roux_dead
		set_capital = 681 #Move capital to Cape Town
		start_civil_war = {
			ruling_party = social_conservative
			ideology = paternal_autocrat
			size = 0.5
			capital = 275
			states = { 275 947 945 542 }
			keep_unit_leaders = { 970 971 972 973 974 975 976 977 978 979 }
		}
		SAF_release_rhodesia = yes
		hidden_effect = {
			load_oob = SAF_Civil_War
			random_other_country = {
				limit = {
					original_tag = SAF
					has_government = paternal_autocrat
				}
				load_oob = ZAR_Civil_War
				set_equipment_fraction = 0.5
				add_popularity = { ideology = paternal_autocrat popularity = 0.35 }
				if = {
					limit = { ZIM = { is_subject_of = SAF } }
					ZIM = {
						add_to_war = {
							targeted_alliance = SAF
							enemy = PREV
						}
					}
				}
				SAF_copy_ideas = yes
				SAF_add_republic_generals = yes
				set_cosmetic_tag = SAF_republic
			}
		}
	}
	option = {
		name = saf.66.b
		trigger = { is_ai = no }
		add_stability = -0.05
		set_country_flag = C_de_Weenburg_du_Toit_dead
		set_country_flag = JF_Naude_dead
		set_country_flag = Cornelis_van_Zuigenbrogge_dead
		set_country_flag = SP_Le_Roux_dead
		set_capital = 681 #Move capital to Cape Town
		custom_effect_tooltip = SAF_play_as_zuid
		start_civil_war = {
			ruling_party = social_conservative
			ideology = paternal_autocrat
			size = 0.5
			capital = 275
			states = { 275 947 945 542 }
			keep_unit_leaders = { 970 971 972 973 974 975 976 977 978 979 }
		}
		SAF_release_rhodesia = yes
		hidden_effect = {
			load_oob = SAF_Civil_War
			random_other_country = {
				limit = {
					original_tag = SAF
					has_government = paternal_autocrat
				}
				load_oob = ZAR_Civil_War
				set_equipment_fraction = 0.5
				add_popularity = { ideology = paternal_autocrat popularity = 0.35 }
				if = {
					limit = { ZIM = { is_subject_of = SAF } }
					ZIM = {
						add_to_war = {
							targeted_alliance = SAF
							enemy = PREV
						}
					}
				}
				SAF_copy_ideas = yes
				SAF_add_republic_generals = yes
				set_cosmetic_tag = SAF_republic
			}
		}
	}
}

# Civil War begins - Nationalist Coup
country_event = {
	id = saf.67
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.67"}
	title = saf.67.t
	desc = saf.67.d
	picture = GFX_report_event_SAF_boers

	fire_only_once = yes

	trigger = {
		tag = SAF
		owns_state = 275 #Transvaal
		owns_state = 681 #Cape
		owns_state = 947 #Oranje
		SAF = { controls_all_owned_states = yes }
		has_government = social_conservative
		has_country_flag = SAF_federation_civil_war
		NOT = { has_country_flag = SAF_civil_war_happened }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_country_flag = SAF_civil_war_happened
		random_other_country = {
			news_event = { id = worldnews.62 days = 1 }
		}
	}

	option = {
		name = saf.67.a
		add_stability = -0.05
		set_country_flag = C_de_Weenburg_du_Toit_dead
		set_country_flag = JF_Naude_dead
		set_country_flag = Cornelis_van_Zuigenbrogge_dead
		set_country_flag = SP_Le_Roux_dead
		set_capital = 681 #Move capital to Cape Town
		start_civil_war = {
			ruling_party = social_conservative
			ideology = paternal_autocrat
			size = 0.5
			capital = 275
			states = { 275 947 945 542 }
			keep_unit_leaders = { 970 971 972 973 974 975 976 977 978 979 }
		}
		SAF_release_rhodesia = yes
		hidden_effect = {
			load_oob = SAF_Civil_War
			random_other_country = {
				limit = {
					original_tag = SAF
					has_government = paternal_autocrat
				}
				load_oob = ZAR_Civil_War
				set_equipment_fraction = 0.5
				add_popularity = { ideology = paternal_autocrat popularity = 0.35 }
				if = {
					limit = { ZIM = { is_subject_of = SAF } }
					ZIM = {
						add_to_war = {
							targeted_alliance = SAF
							enemy = PREV
						}
					}
				}
				SAF_copy_ideas = yes
				SAF_add_republic_generals = yes
				set_cosmetic_tag = SAF_republic
			}
		}
	}
	option = {
		name = saf.67.b
		trigger = { is_ai = no }
		add_stability = -0.05
		set_country_flag = C_de_Weenburg_du_Toit_dead
		set_country_flag = JF_Naude_dead
		set_country_flag = Cornelis_van_Zuigenbrogge_dead
		set_country_flag = SP_Le_Roux_dead
		set_capital = 681 #Move capital to Cape Town
		custom_effect_tooltip = SAF_play_as_zuid
		start_civil_war = {
			ruling_party = social_conservative
			ideology = paternal_autocrat
			size = 0.5
			capital = 275
			states = { 275 947 945 542 }
			keep_unit_leaders = { 970 971 972 973 974 975 976 977 978 979 }
		}
		SAF_release_rhodesia = yes
		hidden_effect = {
			load_oob = SAF_Civil_War
			random_other_country = {
				limit = {
					original_tag = SAF
					has_government = paternal_autocrat
				}
				load_oob = ZAR_Civil_War
				set_equipment_fraction = 0.5
				add_popularity = { ideology = paternal_autocrat popularity = 0.35 }
				if = {
					limit = { ZIM = { is_subject_of = SAF } }
					ZIM = {
						add_to_war = {
							targeted_alliance = SAF
							enemy = PREV
						}
					}
				}
				SAF_copy_ideas = yes
				SAF_add_republic_generals = yes
				set_cosmetic_tag = SAF_republic
			}
		}
	}
}

# Become the Z.A.R.?
country_event = {
	id = saf.68
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.68"}
	title = saf.68.t
	desc = saf.68.d
	picture = GFX_report_event_SAF_parliament_3

	is_triggered_only = yes

	trigger = {
		has_civil_war = yes
		has_government = authoritarian_democrat
		NOT = { has_country_flag = SAF_PNP_split }
	}

	option = {
		name = saf.68.a #No, we will preserve the Union!
		add_political_power = 50
		add_stability = -0.05
	}
	option = {
		name = saf.68.b #Restore the Zuid-Afrikaansche Republiek!
		add_political_power = 100
		custom_effect_tooltip = SAF_become_zuid
		set_cosmetic_tag = SAF_republic
	}
}

# Country considers supporting Federation
country_event = {
	id = saf.69
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.69"}
	title = saf.69.t
	desc = saf.69.d
	picture = GFX_report_event_spain_civil_war_soldiers

	trigger = {
		SAF = {
			has_civil_war = yes
			has_country_flag = SAF_civil_war_happened
		}
		OR = {
			tag = CAN
			tag = GBR
			tag = DEH
			AND = {
				tag = AST
				NOT = { has_government = paternal_autocrat }
			}
		}
		has_manpower > 2000
		any_country = {
			original_tag = SAF
			has_government = social_conservative
			capital_scope = { is_controlled_by = PREV }
		}
		NOT = { has_country_flag = SAF_considered_intervention }
	}

	mean_time_to_happen = {
		days = 5
	}

	immediate = {
		hidden_effect = {
			set_country_flag = SAF_considered_intervention
			random_country = {
				limit = {
					original_tag = SAF
					has_government = social_conservative
				}
				save_event_target_as = entente_help
			}
			random_country = {
				limit = {
					original_tag = SAF
					NOT = { has_government = social_conservative }
				}
				save_event_target_as = entente_enemy
			}
		}
	}

	option = {
		name = saf.69.a
		ai_chance = { factor = 95 }
		custom_effect_tooltip = SAF_send_volunteers_SACW
		add_political_power = -50
		add_manpower = -2000
		set_country_flag = SAF_sent_volunteers
		hidden_effect = {
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = -500 }
			event_target:entente_help = {
				ROOT = { remove_opinion_modifier = { target = PREV modifier = embargo } }
				remove_opinion_modifier = { target = ROOT modifier = embargo }
				reverse_add_opinion_modifier = { target = ROOT modifier = SAF_we_support_them }
				country_event = { id = saf.70 days = 10 }
			}
		}
	}
	option = {
		name = saf.69.b
		ai_chance = { factor = 5 }
	}
}

# Aid arrives
country_event = {
	id = saf.70
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.70"}
	title = saf.70.t
	desc = saf.70.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	trigger = {
		has_civil_war = yes
		capital_scope = { is_controlled_by = ROOT }
	}

	option = {
		name = saf.70.a
		custom_effect_tooltip = SAF_receive_volunteers
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 500 }
		hidden_effect = {
			if = {
				limit = { FROM = { tag = CAN } }
				load_oob = SAF_CAN_VOL
			}
			if = {
				limit = { FROM = { tag = GBR } }
				load_oob = SAF_GBR_VOL
			}
			if = {
				limit = { FROM = { tag = AST } }
				load_oob = SAF_AST_VOL
			}
			if = {
				limit = { FROM = { tag = DEH } }
				load_oob = SAF_DEH_VOL
			}
		}
	}
}

# Volunteers return from civil war
country_event = {
	id = saf.71
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.71"}
	title = saf.71.t
	desc = saf.71.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = saf.71.a
		if = {
			limit = { has_country_flag = SAF_sent_volunteers }
			clr_country_flag = SAF_sent_volunteers
			add_manpower = 2000
			add_political_power = 100
			army_experience = 20
		}
		if = {
			limit = { has_country_flag = SAF_sent_volunteers2 }
			clr_country_flag = SAF_sent_volunteers2
			add_manpower = 2000
			add_political_power = 100
			army_experience = 20
		}
		if = {
			limit = { has_country_flag = SAF_sent_many_volunteers }
			clr_country_flag = SAF_sent_many_volunteers
			add_manpower = 2000
			add_political_power = 200
			army_experience = 20
		}
		if = {
			limit = { has_country_flag = SAF_sent_many_volunteers2 }
			clr_country_flag = SAF_sent_many_volunteers2
			add_manpower = 2000
			add_political_power = 200
			army_experience = 20
		}
	}
}

# Country considers supporting Republic
country_event = {
	id = saf.72
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.72"}
	title = saf.72.t
	desc = saf.72.d
	picture = GFX_report_event_spain_civil_war_soldiers

	trigger = {
		SAF = {
			has_civil_war = yes
			has_country_flag = SAF_civil_war_happened
		}
		OR = {
			tag = GER
			tag = HOL
			tag = MAF
			AND = {
				tag = AST
				has_government = paternal_autocrat
			}
		}
		has_manpower > 2000
		any_country = {
			original_tag = SAF
			has_authoritarian_government = yes
			capital_scope = { is_controlled_by = PREV }
		}
		NOT = { has_country_flag = SAF_considered_intervention }
	}

	mean_time_to_happen = {
		days = 5
	}

	immediate = {
		hidden_effect = {
			set_country_flag = SAF_considered_intervention
			random_country = {
				limit = {
					original_tag = SAF
					has_authoritarian_government = yes
				}
				save_event_target_as = entente_help
			}
			random_country = {
				limit = {
					original_tag = SAF
					NOT = { has_authoritarian_government = yes }
				}
				save_event_target_as = entente_enemy
			}
		}
	}

	option = {
		name = saf.72.a
		ai_chance = { factor = 90 }
		custom_effect_tooltip = SAF_send_volunteers_SACW
		add_political_power = -50
		add_manpower = -2000
		set_country_flag = SAF_sent_volunteers2
		hidden_effect = {
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = -500 }
			event_target:entente_help = {
				reverse_add_opinion_modifier = { target = ROOT modifier = SAF_we_support_them }
				country_event = { id = saf.73 days = 10 }
			}
		}
	}
	option = {
		name = saf.72.c
		ai_chance = { factor = 60 }
		trigger = {
			has_manpower > 10000
			has_political_power > 100
		}
		custom_effect_tooltip = SAF_send_volunteers_SACW
		add_political_power = -100
		add_manpower = -10000
		set_country_flag = SAF_sent_many_volunteers2
		hidden_effect = {
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = -1000 }
			event_target:entente_help = {
				reverse_add_opinion_modifier = { target = ROOT modifier = SAF_we_support_them }
				country_event = { id = saf.73 days = 10 }
			}
		}
	}
	option = {
		name = saf.72.b
		ai_chance = { factor = 10 }
	}
}

# Aid arrives
country_event = {
	id = saf.73
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.73"}
	title = saf.70.t
	desc = saf.70.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	trigger = {
		has_civil_war = yes
		capital_scope = { is_controlled_by = ROOT }
	}

	option = {
		name = saf.70.a
		custom_effect_tooltip = SAF_receive_volunteers2
		if = {
			limit = { FROM = { has_country_flag = SAF_sent_many_volunteers } }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1000 }
			hidden_effect = {
				if = {
					limit = { FROM = { tag = HOL } }
					load_oob = ZAR_HOL_VOL_FULL
				}
				if = {
					limit = { FROM = { tag = MAF } }
					load_oob = ZAR_MAF_VOL_FULL
				}
			}
			else = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 500 }
				hidden_effect = {
					if = {
						limit = { FROM = { tag = AST } }
						load_oob = ZAR_AST_VOL
					}
					if = {
						limit = { FROM = { tag = HOL } }
						load_oob = ZAR_HOL_VOL
					}
					if = {
						limit = { FROM = { tag = MAF } }
						load_oob = ZAR_MAF_VOL
					}
					if = {
						limit = { FROM = { tag = GER } }
						load_oob = ZAR_GER_VOL
					}
				}
			}
		}
	}
}

# Nationalist win - defender
country_event = {
	id = saf.74
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.74"}
	title = saf.74.t
	desc = saf.74.d
	picture = GFX_report_event_SAF_crowd_2

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		has_country_flag = SAF_civil_war_happened
		has_authoritarian_government = yes
		NOT = { has_country_flag = SAF_nationalist_win_SCW }
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = saf.74.a
		clr_country_flag = SAF_apartheid_civil_war
		clr_country_flag = SAF_centenary_civil_war
		clr_country_flag = SAF_federation_civil_war
		set_country_flag = SAF_nationalist_win_SCW
		add_stability = 0.10
		SAF_return_volunteers = yes
		hidden_effect = {
			if = {
				limit = { has_idea = SAF_apartheid_wait }
				remove_ideas = SAF_apartheid_wait
			}
			random_other_country = {
				news_event = { id = worldnews.64 days = 1 }
			}
		}
	}
}

# Dominion win - defender
country_event = {
	id = saf.75
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.75"}
	title = saf.75.t
	desc = saf.75.d
	picture = GFX_report_event_SAF_crowd_2

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		has_country_flag = SAF_civil_war_happened
		NOT = { has_authoritarian_government = yes }
		NOT = { has_country_flag = SAF_dominion_win_SCW }
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = saf.75.a
		set_country_flag = SAF_dominion_win_SCW
		clr_country_flag = SAF_apartheid_civil_war
		clr_country_flag = SAF_centenary_civil_war
		clr_country_flag = SAF_federation_civil_war
		add_stability = 0.10
		SAF_return_volunteers = yes
		hidden_effect = {
			if = {
				limit = { has_idea = SAF_federation_wait }
				remove_ideas = SAF_federation_wait
			}
			random_other_country = {
				news_event = { id = worldnews.63 days = 1 }
			}
			country_event = { id = saf.78 days = 3 } #Status of Rhodesia
		}
	}
}

# Nationalists take Cape Town
country_event = {
	id = saf.76
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.76"}
	title = saf.76.t
	desc = saf.76.d
	picture = GFX_report_event_SAF_crowd_2

	is_triggered_only = yes

	trigger = {
		tag = SAF
		has_civil_war = yes
		has_country_flag = SAF_civil_war_happened
		NOT = { has_authoritarian_government = yes }
		NOT = { has_country_flag = SAF_nationalist_win_SCW }
	}

	immediate = {
		remove_all_ministers = yes
		hidden_effect = {
			create_country_leader = {
				name = "James Hertzog"
				desc = "POLITICS_JAMES_HERTZOG_DESC"
				picture = "J._B._M._Hertzog_I.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Daniel François Malan"
				desc = "POLITICS_DANIEL_MALAN_DESC"
				picture = "Daniel_Francois_Malan_I.tga"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
				traits = {}
			}
			random_other_country = {
				limit = {
					original_tag = SAF
					has_authoritarian_government = yes
				}
				save_event_target_as = victor
			}
		}
	}

	option = {
		name = saf.76.a
		custom_effect_tooltip = SAF_surrender_to_revolter
		hidden_effect = {
			if = {
				limit = { event_target:victor = { has_cosmetic_tag = SAF_republic } }
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SAF_republic
			}
			# remove federation army leaders
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 970 #Smuts
						has_id = 971 #Beyers
						has_id = 972 #Brink
						has_id = 976 #Bierman
						has_id = 977 #Poole
					}
				}
				retire = yes
			}
			set_country_flag = Jan_C_Smuts_dead
			set_country_flag = Jan_Hendrik_Hofmeyr_dead
			set_country_flag = Leonard_Beyers_dead
			# re-add republic army leaders
			event_target:victor = {
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 973 #Pienaar
							has_id = 974 #Klopper
							has_id = 975 #de Villiers
							has_id = 978 #du Toit
							has_id = 979 #Venter
						}
					}
					set_nationality = SAF
				}
			}
			clr_country_flag = C_de_Weenburg_du_Toit_dead
			clr_country_flag = JF_Naude_dead
			clr_country_flag = Cornelis_van_Zuigenbrogge_dead
			clr_country_flag = SP_Le_Roux_dead
			if = {
				limit = { event_target:victor = { is_ai = no } }
				change_tag_from = event_target:victor
			}
			annex_country = { target = event_target:victor }
			set_politics = {
				ruling_party = paternal_autocrat
				election_frequency = 60
				elections_allowed = yes
				last_election = "1938.5.17"
			}
			set_country_flag = SAF_nationalist_win_SCW
			clr_country_flag = SAF_apartheid_civil_war
			clr_country_flag = SAF_centenary_civil_war
			clr_country_flag = SAF_federation_civil_war
			if = {
				limit = { has_country_flag = SAF_PNP_split }
				add_ideas = SAF_TE_Doenges_hog_ade
				else = { add_ideas = SAF_D_F_Malan_hog_pau }
			}
			add_ideas = SAF_Eric_H_Louw_for_ade
			if = {
				limit = { has_country_flag = SAF_PNP_split }
				add_ideas = SAF_PO_Sauer_eco_ade
				else = { add_ideas = SAF_J_G_Strijdom_eco_pau }
			}
			if = {
				limit = { has_country_flag = SAF_PNP_split }
				add_ideas = SAF_C_de_Weenburg_du_Toit_sec_ade
				else = { add_ideas = SAF_Hendrijk_F_Verwoerd_sec_pau }
			}
			set_cosmetic_tag = SAF_republic
			if = {
				limit = { has_idea = SAF_apartheid_wait }
				remove_ideas = SAF_apartheid_wait
			}
			news_event = { id = worldnews.64 days = 1 }
			add_stability = 0.10
			army_experience = 50
			add_popularity = { ideology = paternal_autocrat popularity = 0.30 }
			add_popularity = { ideology = social_conservative popularity = -0.30 }
			SAF_return_volunteers = yes
		}
	}
}

# Dominionists take Pretoria
country_event = {
	id = saf.77
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.77"}
	title = saf.77.t
	desc = saf.77.d
	picture = GFX_report_event_SAF_crowd_2

	is_triggered_only = yes

	trigger = {
		tag = SAF
		has_civil_war = yes
		has_country_flag = SAF_civil_war_happened
		has_authoritarian_government = yes
		NOT = { has_country_flag = SAF_dominion_win_SCW }
	}

	immediate = {
		remove_all_ministers = yes
		hidden_effect = {
			create_country_leader = {
				name = "Jan Christiaan Smuts"
				desc = "POLITICS_JAN_SMUTS_DESC"
				picture = "Portrait_SAF_Jan_Smuts.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = { }
			}
			random_other_country = {
				limit = {
					original_tag = SAF
					NOT = { has_authoritarian_government = yes }
				}
				save_event_target_as = victor
			}
		}
	}

	option = {
		name = saf.77.a
		custom_effect_tooltip = SAF_surrender_to_revolter
		hidden_effect = {
			if = {
				limit = { event_target:victor = { has_cosmetic_tag = SAF_federation } }
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SAF_federation
			}
			# remove republic army leaders
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 973 #Pienaar
						has_id = 974 #Klopper
						has_id = 975 #de Villiers
						has_id = 978 #du Toit
						has_id = 979 #Venter
					}
				}
				retire = yes
			}
			set_country_flag = C_de_Weenburg_du_Toit_dead
			set_country_flag = JF_Naude_dead
			set_country_flag = Cornelis_van_Zuigenbrogge_dead
			set_country_flag = SP_Le_Roux_dead
			# re-add federation army leaders
			event_target:victor = {
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 970 #Smuts
							has_id = 971 #Beyers
							has_id = 972 #Brink
							has_id = 976 #Bierman
							has_id = 977 #Poole
						}
					}
					set_nationality = SAF
				}
			}
			clr_country_flag = Jan_C_Smuts_dead
			clr_country_flag = Jan_Hendrik_Hofmeyr_dead
			clr_country_flag = Leonard_Beyers_dead
			if = {
				limit = { event_target:victor = { is_ai = no } }
				change_tag_from = event_target:victor
			}
			annex_country = { target = event_target:victor }
			set_politics = {
				ruling_party = social_conservative
				election_frequency = 60
				elections_allowed = yes
				last_election = "1938.5.17"
			}
			set_country_flag = SAF_dominion_win_SCW
			clr_country_flag = SAF_apartheid_civil_war
			clr_country_flag = SAF_centenary_civil_war
			clr_country_flag = SAF_federation_civil_war
			add_ideas = SAF_Jan_Hendrik_Hofmeyr_hog_mli
			add_ideas = SAF_Graham_Botha_for_mli
			add_ideas = SAF_Robert_J_Hudson_eco_mli
			add_ideas = SAF_C_F_Stallard_sec_mli
			if = {
				limit = { has_idea = SAF_federation_wait }
				remove_ideas = SAF_federation_wait
			}
			news_event = { id = worldnews.63 days = 1 }
			add_stability = 0.10
			army_experience = 50
			add_popularity = { ideology = social_conservative popularity = 0.30 }
			add_popularity = { ideology = paternal_autocrat popularity = -0.30 }
			SAF_return_volunteers = yes
			if = {
				limit = { country_exists = ZIM }
				if = {
					limit = { has_war_with = ROOT }
					white_peace = ZIM
				}
				ZIM = { get_current_government_type = yes }
				puppet = ZIM
				ZIM = { restore_previous_government_type = yes }
			}
			country_event = { id = saf.78 days = 3 } #Status of Rhodesia
		}
	}
}

# The Status of Rhodesia
country_event = {
	id = saf.78
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.78"}
	title = saf.78.t
	desc = saf.78.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	trigger = {
		ZIM = { is_subject_of = ROOT }
	}

	option = {
		name = saf.78.a # The Civil War is over. Strip their autonomy.
		trigger = {
			ZIM = { is_ai = yes }
		}
		annex_country = {
			target = ZIM
			transfer_troops = yes
		}
		add_political_power = -50
	}

	option = {
		name = saf.78.b # They deserve limited autonomy.
		add_political_power = 25
	}
}

# Dominionist Party's fate
country_event = {
	id = saf.79
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.79"}
	title = saf.79.t
	desc = saf.79.d
	picture = GFX_report_event_SAF_parliament_1

	is_triggered_only = yes

	option = {
		name = saf.79.a
		add_stability = -0.02
		set_party_name = { ideology = social_conservative name = SAF_social_conservative_party_Con long_name = SAF_social_conservative_party_long_Con }
		add_popularity = { ideology = market_liberal popularity = 0.20 }
	}
}

# South Africa is invaded while civil war is going on
country_event = {
	id = saf.80
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.80"}

	fire_only_once = yes
	hidden = yes

	trigger = {
		tag = SAF
		is_ai = yes
		has_civil_war = yes
		any_owned_state = {
			is_core_of = SAF
			controller = {
				NOT = { original_tag = SAF }
				has_war_with = ROOT
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		if = {
			limit = { has_authoritarian_government = yes }
			country_event = { id = saf.77 }
			else = { country_event = { id = saf.76 } }
		}
	}
}


### Post-1938 Election Events

# 1943 Elections
country_event = {
	id = saf.90
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.90"}
	title = saf.90.t
	desc = saf.90.d
	picture = GFX_report_event_SAF_parliament_3

	is_triggered_only = yes

	trigger = {
		tag = SAF
		NOT = { has_authoritarian_government = yes }
		has_country_flag = SAF_1938_elections_held
		NOT = { has_country_flag = SAF_1943_elections_held }
	}

	immediate = {
		set_country_flag = SAF_1943_elections_held
		remove_all_ministers = yes
	}

	option = {
		name = saf.90.a # The Conservative Party
		ai_chance = { factor = 50 }
		add_political_power = 25
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = { NOT = { has_completed_focus = SAF_the_restoration } }
			create_country_leader = {
				name = "Jan Christiaan Smuts"
				desc = "POLITICS_JAN_SMUTS_DESC"
				picture = "Portrait_SAF_Jan_Smuts.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = {}
			}
		}
		if = {
			limit = { has_country_leader = { ruling_only = yes name = "King Edward VIII" } }
			add_ideas = SAF_Jan_C_Smuts_hog_sco
			else = { add_ideas = SAF_C_F_Stallard_hog_mli }
		}
		add_ideas = SAF_Pierre_van_Ryneveld_for_sco
		add_ideas = SAF_Charles_T_te_Water_eco_sco
		add_ideas = SAF_HG_Lawrence_sec_sco
		add_popularity = { ideology = social_conservative popularity = 0.20 }
	}
	option = {
		name = saf.90.b # The Progressive Party
		ai_chance = { factor = 50 }
		add_political_power = 50
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = { NOT = { has_completed_focus = SAF_the_restoration } }
			create_country_leader = {
				name = "Nicolaas Havenga"
				desc = "POLITICS_NICOLAAS_HAVENGA_DESC"
				picture = "Portrait_SAF_Nicolaas_Havenga.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = {}
			}
		}
		add_ideas = SAF_Jan_Hendrik_Hofmeyr_hog_mli
		add_ideas = SAF_L_J_du_Plessis_for_mli
		add_ideas = SAF_Robert_J_Hudson_eco_mli
		add_ideas = SAF_Nicolaas_J_de_Wet_sec_mli
		add_popularity = { ideology = market_liberal popularity = 0.20 }
	}
}

# 1948 Elections
country_event = {
	id = saf.91
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.91"}
	title = saf.90.t
	desc = saf.90.d
	picture = GFX_report_event_SAF_parliament_3

	is_triggered_only = yes

	trigger = {
		tag = SAF
		NOT = { has_authoritarian_government = yes }
		has_country_flag = SAF_1943_elections_held
		NOT = { has_country_flag = SAF_1948_elections_held }
	}

	immediate = {
		set_country_flag = SAF_1948_elections_held
		remove_all_ministers = yes
	}

	option = {
		name = saf.90.a # The Conservative Party
		ai_chance = { factor = 50 }
		add_political_power = 25
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = { has_country_leader = { ruling_only = yes name = "King Edward VIII" } }
			add_ideas = SAF_Jan_C_Smuts_hog_sco
			else = { add_ideas = SAF_C_F_Stallard_hog_mli }
		}
		add_ideas = SAF_Pierre_van_Ryneveld_for_sco
		add_ideas = SAF_Charles_T_te_Water_eco_sco
		add_ideas = SAF_HG_Lawrence_sec_sco
		add_popularity = { ideology = social_conservative popularity = 0.20 }
	}
	option = {
		name = saf.90.b # The Progressive Party
		ai_chance = { factor = 50 }
		add_political_power = 50
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		add_ideas = SAF_Jan_Hendrik_Hofmeyr_hog_mli
		add_ideas = SAF_L_J_du_Plessis_for_mli
		add_ideas = SAF_Robert_J_Hudson_eco_mli
		add_ideas = SAF_Nicolaas_J_de_Wet_sec_mli
		add_popularity = { ideology = market_liberal popularity = 0.20 }
	}
}

# Death of Jan Smuts
country_event = {
	id = saf.92
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.92"}
	title = saf.92.t
	picture = GFX_report_event_europe_funeral

	desc = {
		text = saf.92.d.notfederation
		trigger = {
			NOT = { has_cosmetic_tag = SAF_federation }
			NOT = { has_country_leader = { ruling_only = yes name = "Governor-General Jan Smuts" } }
		}
	}
	desc = {
		text = saf.92.d.notgovernor
		trigger = {
			has_cosmetic_tag = SAF_federation
			NOT = { has_country_leader = { ruling_only = yes name = "Governor-General Jan Smuts" } }
		}
	}
	desc = {
		text = saf.92.d.governor
		trigger = {
			has_completed_focus = SAF_the_restoration
			has_country_leader = { ruling_only = yes name = "Governor-General Jan Smuts" }
		}
	}

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1950.09.10
		NOT = { has_country_flag = Jan_C_Smuts_dead }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = saf.92.a
		add_popularity = { ideology = social_conservative popularity = -0.10 }
		if = {
			limit = { has_country_leader = { ruling_only = yes name = "Governor-General Jan Smuts" } }
			create_country_leader = {
				name = "Governor-General Herbert J. Stanley"
				desc = "POLITICS_HERBERT_STANLEY_DESC"
				picture = "Portrait_SAF_James_Stanley.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Governor-General Herbert J. Stanley"
				desc = "POLITICS_HERBERT_STANLEY_DESC"
				picture = "Portrait_SAF_James_Stanley.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Governor-General Herbert J. Stanley"
				desc = "POLITICS_HERBERT_STANLEY_DESC"
				picture = "Portrait_SAF_James_Stanley.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Governor-General Herbert J. Stanley"
				desc = "POLITICS_HERBERT_STANLEY_DESC"
				picture = "Portrait_SAF_James_Stanley.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = {}
			}
			else = {
				create_country_leader = {
					name = "C. F. Stallard"
					#picture = "Portrait_SAF_CF_Stallard.tga"
					expire = "1965.1.1"
					ideology = social_conservative_subtype
					traits = {}
				}
			}
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_hog_sco }
			remove_ideas = SAF_Jan_C_Smuts_hog_sco
			add_ideas = SAF_C_F_Stallard_hog_mli
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_for_sco }
			remove_ideas = SAF_Jan_C_Smuts_for_sco
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_eco_sco }
			remove_ideas = SAF_Jan_C_Smuts_eco_sco
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_sec_sco }
			remove_ideas = SAF_Jan_C_Smuts_sec_sco
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_int_sco }
			remove_ideas = SAF_Jan_C_Smuts_int_sco
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_cos_sco }
			remove_ideas = SAF_Jan_C_Smuts_cos_sco
		}
		if = {
			limit = { has_idea = SAF_Jan_C_Smuts_carm_sco }
			remove_ideas = SAF_Jan_C_Smuts_carm_sco
		}
		if = {
			limit = { has_unit_leader = 970 }
			remove_unit_leader = 970
		}
		set_country_flag = Jan_C_Smuts_dead
	}
}

# 1953+ Elections
country_event = {
	id = saf.93
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.93"}
	title = saf.90.t
	desc = saf.90.d
	picture = GFX_report_event_SAF_parliament_3

	is_triggered_only = yes

	trigger = {
		tag = SAF
		NOT = { has_authoritarian_government = yes }
		has_country_flag = SAF_1948_elections_held
	}

	immediate = {
		remove_all_ministers = yes
	}

	option = {
		name = saf.90.a # The Conservative Party
		ai_chance = { factor = 40 }
		add_political_power = 25
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		add_ideas = SAF_C_F_Stallard_hog_mli
		add_ideas = SAF_Pierre_van_Ryneveld_for_sco
		add_ideas = SAF_Charles_T_te_Water_eco_sco
		add_ideas = SAF_HG_Lawrence_sec_sco
		add_popularity = { ideology = social_conservative popularity = 0.20 }
	}
	option = {
		name = saf.90.b # The Progressive Party
		ai_chance = { factor = 60 }
		add_political_power = 50
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		add_ideas = SAF_Jan_Hendrik_Hofmeyr_hog_mli
		add_ideas = SAF_L_J_du_Plessis_for_mli
		add_ideas = SAF_Robert_J_Hudson_eco_mli
		add_ideas = SAF_Nicolaas_J_de_Wet_sec_mli
		add_popularity = { ideology = market_liberal popularity = 0.20 }
	}
}


### Extra Events

# International Socialist League
country_event = {
	id = saf.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.100"}
	title = saf.100.t
	desc = saf.100.d
	picture = GFX_report_event_iww_demonstration

	fire_only_once = yes

	trigger = {
		tag = SAF
		date > 1936.1.6
	}

	mean_time_to_happen = {
		days = 20
	}

	option = {
		name = saf.100.a
		add_stability = -0.02
		add_popularity = { ideology = radical_socialist popularity = 0.1 }
	}
}

# ISL and Apartheid
country_event = {
	id = saf.101
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.101"}
	title = saf.101.t
	desc = saf.101.d
	picture = GFX_report_event_iww_demonstration

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		OR = {
			has_idea = SAF_apartheid_1
			has_idea = SAF_apartheid_2
		}
	}

	mean_time_to_happen = {
		months = 4
	}

	option = {
		name = saf.101.a
		add_stability = -0.05
		add_popularity = { ideology = radical_socialist popularity = -0.1 }
	}
}

# The Population Registration Act
country_event = {
	id = saf.102
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.102"}
	title = saf.102.t
	desc = saf.102.d
	picture = GFX_report_event_SAF_apartheid_2

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		SAF = { controls_all_owned_states = yes }
		NOT = { has_country_flag = SAF_apartheid_event_1 }
		OR = {
			has_idea = SAF_apartheid_1
			has_idea = SAF_apartheid_2
		}
	}

	mean_time_to_happen = {
		days = 25
	}

	option = {
		name = saf.102.a
		set_country_flag = SAF_apartheid_event_1
		add_stability = -0.05
	}
}

# Petty Apartheid
country_event = {
	id = saf.103
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.103"}
	title = saf.103.t
	desc = saf.103.d
	picture = GFX_report_event_SAF_crowd_1

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		SAF = { controls_all_owned_states = yes }
		has_country_flag = SAF_apartheid_event_1
		NOT = { has_country_flag = SAF_apartheid_event_2 }
		OR = {
			has_idea = SAF_apartheid_1
			has_idea = SAF_apartheid_2
		}
	}

	mean_time_to_happen = {
		days = 40
	}

	option = {
		name = saf.103.a
		set_country_flag = SAF_apartheid_event_2
		add_stability = -0.05
	}
}

# The Group Areas Act
country_event = {
	id = saf.104
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.104"}
	title = saf.104.t
	desc = saf.104.d
	picture = GFX_report_event_SAF_apartheid_1

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		SAF = { controls_all_owned_states = yes }
		has_country_flag = SAF_apartheid_event_1
		has_country_flag = SAF_apartheid_event_2
		NOT = { has_country_flag = SAF_apartheid_event_3 }
		OR = {
			has_idea = SAF_apartheid_1
			has_idea = SAF_apartheid_2
		}
	}

	mean_time_to_happen = {
		months = 2
	}

	option = {
		name = saf.104.a
		set_country_flag = SAF_apartheid_event_3
		add_stability = -0.08
	}
}

# The Native Trust and Homeland Act
country_event = {
	id = saf.105
	immediate = {log = "[GetDateText]: [Root.GetName]: event saf.105"}
	title = saf.105.t
	desc = saf.105.d
	picture = GFX_report_event_SAF_black_protest

	fire_only_once = yes

	trigger = {
		tag = SAF
		has_civil_war = no
		SAF = { controls_all_owned_states = yes }
		has_country_flag = SAF_apartheid_event_1
		has_country_flag = SAF_apartheid_event_2
		has_country_flag = SAF_apartheid_event_3
		OR = {
			has_idea = SAF_apartheid_1
			has_idea = SAF_apartheid_2
		}
	}

	mean_time_to_happen = {
		days = 40
	}

	option = {
		name = saf.104.a
		clr_country_flag = SAF_apartheid_event_1
		clr_country_flag = SAF_apartheid_event_2
		clr_country_flag = SAF_apartheid_event_3
		add_stability = -0.10
	}
}

